{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold text-center mb-8">Seznam eventů</h1>

    <!-- Filtrovací formulář -->
    <form method="get" class="bg-white p-6 rounded-lg shadow-md mb-6">
        <div class="grid grid-cols-2 gap-4">
            <div>
                <label for="name" class="block text-gray-700">Název</label>
                <input type="text" name="name" id="name" value="{{ name_filter|default_if_none:'' }}" placeholder="Hledat podle názvu" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label for="date" class="block text-gray-700">Datum</label>
                <input type="date" name="date" id="date" value="{{ date_filter|default_if_none:'' }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label for="time" class="block text-gray-700">Čas</label>
                <input type="time" name="time" id="time" value="{{ time_filter|default_if_none:'' }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label for="location" class="block text-gray-700">Lokace</label>
                <input type="text" name="location" id="location" value="{{ location_filter|default_if_none:'' }}" placeholder="Např. Ostrava" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
        </div>
        <button type="submit" class="mt-4 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">Filtrovat</button>
    </form>

    <!-- Výpis eventů -->
    <div class="bg-white rounded-lg shadow-md p-4">
        {% if events %}
            <ul>
                {% for event in events %}
                    <li class="p-4 border-b border-gray-200 last:border-b-0">
                        <h2 class="text-xl font-semibold text-gray-800">{{ event.name }}</h2>
                        <p class="text-gray-600">{{ event.date }} | {{ event.time }}</p>
                        {% if event.eventaddress_set.exists %}
                            <p class="text-gray-600">
                                {{ event.eventaddress_set.first.city }}, {{ event.eventaddress_set.first.street }} {{ event.eventaddress_set.first.number }}
                            </p>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-center text-gray-500">Žádné eventy nenalezeny.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
